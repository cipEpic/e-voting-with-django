<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="../static/css/style.css" />


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Font Awesome -->
  <!-- Iam Magic !! -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
  <!-- MDB -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.css" rel="stylesheet" />
</head>

<body>

  <!-- <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid text-center">
        <a class="text-center" href="#">Age and Gender Prediction</a>
        <button
          class="navbar-toggler"
          type="button"
          data-mdb-toggle="collapse"
          data-mdb-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
          </div>
        </div>


      </div>
    </nav> -->
  <br>
  <div class="text-center">
    <h1>Age and Gender Prediction</h1>
    <hr>
    <div class="container mt-5" id="predict">

      <form method="post" action="{{url_for('predict')}}" enctype="multipart/form-data">
        <h3 class="text-center">Upload an Image</h3>

        <label for="upload" id="upload-label">Your Image</label>
        <input class="form-control my-2" name="file" type="file" id="upload" multiple onchange="readURL(this)" />



        <div class="container">
          <img class="mb-5 mx-auto " id="image" src="" alt="" height="400px" />

        </div>




        <!-- Submit button -->
        <input type="submit" class="btn btn-primary btn-block mb-4">
        </input>
      </form>
    </div>
  </div>

  <h2 id="results" class="text-center mt-5">Your results</h2>

  {% if predictions == None %}
  <p class="text-center">Please upload some image to get results!</p>

  {% endif %}

  {% if predictions != None %}
  <!-- Card starts here -->
  <div class="card mb-3 d-block mx-auto" style="max-width: 540px;">
    <div class="row g-0">
      <div class="col-md-4">
        <img src="{{ image }}" alt="Trendy Pants and Shoes" class="img-fluid rounded-start" />
      </div>


      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title">Gender Classification and Age Prediction Results</h5>
          <p class="card-text" style="color: black;">
            Age: {{ predictions[0] }} <br>
            Gender: {{ predictions[1] }} <br>
            {% if predictions[0] | int <= 14 %} Age Group: Anak-anak {% elif 14 < predictions[0] | int <=25 %} Age
              Group: Remaja {% elif 25 < predictions[0] | int <=40 %} Age Group: Dewasa {% elif 40 < predictions[0] |
              int <=60 %} Age Group: Tua {% else %} Age Group: Lansia {% endif %} <br>

              <span style="color: black;">Status: {% if predictions[0] | int > 17 %}
                <span style="color: green;">Approved</span>
                {% else %}
                <span style="color: red;">Rejected</span>
                {% endif %}
              </span>

          </p>
        </div>
      </div>
      <!-- <button class="btn btn-danger btn-block mb-4" href="#"> back to admin </button> -->
      <a class="btn btn-danger btn-block mb-4" href="http://127.0.0.1:8000/administrator/voters">Back to Admin</a>
    </div>
  </div>

  <!-- Card ends here -->
  {% endif %}

  </div>


  <!-- Footer -->

  <!-- Footer -->





  <footer class="bg-dark text-center text-white" id="contact">
    <!-- Grid container -->
    <div class="container p-4">
      <!-- Section: Social media -->
      <section class="mb-4">


        <!-- Google -->
        <a href="mailto:vishnukumar1105@gmail.com" class="btn btn-outline-light btn-floating m-1 gold" href="#!"
          role="button" target="_blank"><i class="fab fa-google"></i></a>

        <!-- Instagram -->
        <a class="btn btn-outline-light btn-floating m-1 gold" href="https://www.instagram.com/_.arjunbalaji._/"
          role="button" target="_blank"><i class="fab fa-instagram"></i></a>

        <!-- Linkedin -->
        <a href="https://in.linkedin.com/in/arjun-balaji-06b845210" class="btn btn-outline-light btn-floating m-1 gold"
          href="#!" role="button" target="_blank"><i class="fab fa-linkedin-in"></i></a>

        <!-- Github -->
        <a class="btn btn-outline-light btn-floating m-1 gold" href="https://github.com/ArjunNo1" role="button"
          target="_blank"><i class="fab fa-github"></i></a>
      </section>
      <!-- Section: Social media -->

      <!-- Section: Text -->
      <section class="mb-4">

        <h3>I am <span class="bold">Evi Dianasari</span></h3>
        <p>
          I'm a Active student at informatics faculty Udayana University.
          I have an interest in the technology and computer programming, especially in <span class="bold"> database
            management, UI web design, and network security.</span> I am eager to learn. I also participated in many
          activity and seminar to improve my skill not only about computers, but new things too.
        </p>
      </section>
      <!-- Section: Text -->


    </div>
    <!-- Grid container -->

    <!-- Copyright -->
    <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      Â© 2022 Developed By <a href="https://www.linkedin.com/in/ni-kadek-evi-dianasari-360303239/" target="_blank">Evi
        Dianasari</a>

      <i class="fa fa-trophy"></i>

    </div>
    <!-- Copyright -->
  </footer>
  <!-- Footer -->






  <script src="/static/js/index.js"></script>
  <!-- MDB -->
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

  <!-- MDB This was newly added -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.js"></script>

  <script>
    $(document).ready(function () {
      var input = document.getElementById("upload");
      var infoArea = document.getElementById("upload-label");

      input.addEventListener("change", showFileName);

      function showFileName(event) {
        var input = event.srcElement;
        var fileName = input.files[0].name;
        infoArea.textContent =
          "Uploaded file :" + fileName;
      }

      readURL(input);
    });

    function readURL(input) {
      console.log("magic");
      console.log(input.files);
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log("Magic 2");

        // After reading the image file
        reader.onload = function (e) {
          console.log(e.target.result);
          $("#image").attr("src", e.target.result);
        };

        //  Reading the image file as URL
        reader.readAsDataURL(input.files[0]);
      }
    }
  </script>


</body>

</html>